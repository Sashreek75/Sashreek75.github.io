<!DOCTYPE html>
<html lang="en">
<head>
  <title>Level 4: Loop Lagoon - Looping Through Lists!</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="style.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      margin: 0; padding: 0;
      background: linear-gradient(135deg, #e2f9b7 0%, #faffd1 65%, #ffe082 100%);
      position: relative; overflow-x: hidden;
      font-family: 'Comic Sans MS', 'Comic Neue', cursive, sans-serif;
    }
    .loop-lagoon-circles {
      position: fixed; inset: 0; z-index: 0;
      pointer-events: none; overflow: hidden;
    }
    .loop-circle { position: absolute; border-radius: 50%;
      border: 6px solid #b0e15777; background: none;
      animation: loopTumble 7.5s infinite alternate ease-in-out, fadeFloat 9s infinite alternate; opacity: 0.48;}
    @keyframes loopTumble { 0% { transform: scale(1) rotate(0deg);} 100% { transform: scale(1.17) rotate(25deg);}}
    @keyframes fadeFloat {0%{ opacity: 0.17;} 20%{ opacity: 0.53;} 60%{ opacity: 0.38;} 100%{ opacity: 0.48;}}
    .loop-circle1 { left: 2vw; top: 9vh; width: 210px; height: 210px; border-color: #ffe382cc; animation-delay: 0s, 1s;}
    .loop-circle2 { left: 77vw; top: 14vh; width: 154px; height: 154px; border-color: #fff6b999; animation-delay: 1.5s, 0s;}
    .loop-circle3 { left: 43vw; top: 67vh; width: 110px; height: 110px; border-color: #ffd18099; animation-delay: 0.5s, 2.3s;}
    .loop-circle4 { left: 67vw; top: 59vh; width: 79px; height: 79px; border-color: #95ec92bb; animation-delay: 2.1s, 4.2s;}
    .loop-circle5 { left: 37vw; top: 11vh; width: 95px; height: 95px; border-color: #d7eda7; animation-delay: 0.9s, 6.1s;}
    .loop-circle6 { left: 14vw; top: 51vh; width: 125px; height: 125px; border-color: #eef29a99; animation-delay: 1.7s, 2.9s;}
    .loop-circle7 { left: 58vw; top: 33vh; width: 59px; height: 59px; border-color: #fae3c8aa; animation-delay: 0.7s, 2.5s;}
    .loop-circle8 { left: 60vw; top: 74vh; width: 78px; height: 78px; border-color: #fed442b3; animation-delay: 1.1s, 4.8s;}
    .loop-circle9 { left: 24vw; top: 34vh; width: 63px; height: 63px; border-color: #b0e6c0cc; animation-delay: 0.4s, 1.8s;}
    .loop-circle10 { left: 82vw; top: 49vh; width: 88px; height: 88px; border-color: #ffb347a9; animation-delay: 1.6s, 3.6s;}
    .loop-circle11 { left: 5vw; top: 85vh; width: 38px; height: 38px; border-color: #fff4d2; animation-delay:2.5s,0.5s;}
    .loop-circle12 { left: 85vw; top: 82vh; width: 200px; height: 200px; border-color: #b0e15755; animation-delay:0.8s,6.2s;}
    .challenge-box textarea {
      width: 98%; min-height: 44px; font-size: 1.1em; border-radius: 9px; border: 2px solid #388e3c; margin-top: 10px; font-family: inherit; padding: 8px 12px;
    }
    .challenge-box .challenge-feedback {
      min-height: 1.9em; color: #388e3c; margin: 3px 0 6px 0; font-weight: bold;
    }
    .button.special[disabled] { opacity: 0.57; pointer-events: none; }
  </style>
  <script>
    function isMobileDevice() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }
    document.addEventListener('DOMContentLoaded', function() {
      if (isMobileDevice()) {
        document.body.style.fontFamily = "'Comic Neue', 'Comic Sans MS', cursive, sans-serif";
      } else {
        document.body.style.fontFamily = "'Comic Sans MS', 'Comic Neue', cursive, sans-serif";
      }
    });
  </script>
</head>
<body>
  <div class="loop-lagoon-circles">
    <div class="loop-circle loop-circle1"></div>
    <div class="loop-circle loop-circle2"></div>
    <div class="loop-circle loop-circle3"></div>
    <div class="loop-circle loop-circle4"></div>
    <div class="loop-circle loop-circle5"></div>
    <div class="loop-circle loop-circle6"></div>
    <div class="loop-circle loop-circle7"></div>
    <div class="loop-circle loop-circle8"></div>
    <div class="loop-circle loop-circle9"></div>
    <div class="loop-circle loop-circle10"></div>
    <div class="loop-circle loop-circle11"></div>
    <div class="loop-circle loop-circle12"></div>
  </div>
  <div class="main-container">
    <h1>Looping Through Lists! ü™µ</h1>
    <div class="info-box">
      <p>
        <b>What is a list?</b> <br>
        A <span style="color:#7fad1b"><b>list</b></span> in Python is like a <b>box of toys</b>, a <b>basket of fruit</b>, or a <b>row of ducks</b>.<br>
        It's a way to keep lots of things together, all in one neat group!
      </p>
      <div class="list-pic">üê∏ ü¶Ü üê¢</div>
      <div class="biglist">
        Here is a list of animal names:<br>
        <b><span style="color:#7fad1b">[ "frog", "duck", "turtle" ]</span></b>
      </div>
      <ul>
        <li>The things in a list are called <b>items</b>.</li>
        <li>Each item in your list sits in its own spot, like seats on a bus!</li>
      </ul>
    </div>

    <div class="hero-ex">
      <b>How do we look at each thing in a list?</b><br>
      We use a <span style="color:#ff8c00"><b>for loop</b></span> to go through the list, one by one!
    </div>

    <pre>
animals = ["frog", "duck", "turtle"]
for animal in animals:
    print(animal)
    </pre>

    <div class="example-box">
      <span class="arrow">üëâ</span>
      Each time the loop runs, <code>animal</code> is the next thing in the list!
      <br>
      First <b>"frog"</b>, then <b>"duck"</b>, then <b>"turtle"</b>!
      <br><br>
      The computer prints:
      <pre>
frog
duck
turtle
      </pre>
    </div>

    <div class="info-box">
      <b>Let's break down the for loop:</b>
      <div class="step-list">
        1. <code>for animal in animals:</code> means: "Go through each thing in the list called <code>animals</code>."
        <br><br>
        2. <code>animal</code> is our counter‚Äîeach time, it stands for the animal we're looking at!
        <br><br>
        3. <code>print(animal)</code> means: "Say the animal's name!"
      </div>
    </div>

    <div class="fun-fact-box">
      You can use a list for all kinds of things: snacks, favorite colors, numbers, friends, or emojis!
    </div>
    <div class="info-box">
      <b>Here are more examples!</b>
      <pre>
colors = ["red", "yellow", "blue"]
for color in colors:
    print(color)
      </pre>
      <div class="example-box pinkblue">
        This prints:<br>
        red<br>
        yellow<br>
        blue
      </div>
      <pre>
foods = ["pizza", "ice cream", "carrots"]
for food in foods:
    print("Yum! I like", food)
      </pre>
      <div class="example-box green">
        You'll see:<br>
        Yum! I like pizza<br>
        Yum! I like ice cream<br>
        Yum! I like carrots
      </div>
    </div>

    <div class="info-box">
      <b>Lists can even be just emojis:</b><br>
      <pre>
faces = ["üòÄ", "üò∫", "üê∏"]
for face in faces:
    print(face)
      </pre>
    </div>

    <form class="challenge-box" autocomplete="off" onsubmit="return false;">
      üêæ <b>Challenge:</b> Make a list of your favorite animals, colors, or foods.<br>
      Then make a for loop to print each one!<br><br>
      <b>Can you make it print something silly for each?</b>
      <textarea id="challengeInput" placeholder='e.g.\nthings = ["cat","dog","bird","pig","owl"]\nfor t in things:\n    print(t)' spellcheck="false"></textarea>
      <div class="challenge-feedback" id="challengeFeedback"></div>
      <button class="button special" id="nextBtn" disabled>Next: While Loops! ‚û°Ô∏è</button>
    </form>

    <div class="fun-fact-box">
      <b>Need help?</b><br>
      <ul style="margin:0 0 0 18px;padding:0;">
        <li>Lists start and end with [ and ]</li>
        <li>Put commas between your items</li>
        <li>Each name or word should be in "quotes"</li>
      </ul>
    </div>

    <div class="info-box">
      <b>Let's look at a really long list:</b>
      <table class="long-list-table">
        <tr><th>My Toy List</th><th>Spot in List</th></tr>
        <tr><td>"teddy bear"</td><td>First</td></tr>
        <tr><td>"car"</td><td>Second</td></tr>
        <tr><td>"blocks"</td><td>Third</td></tr>
        <tr><td>"robot"</td><td>Fourth</td></tr>
      </table>
      <div style="margin-top:7px">
        A list remembers the order of your things!<br>
        In Python, the first thing in a list is at spot 0, then 1, then 2, and so on!
      </div>
    </div>

    <div class="info-box">
      <b>Sneaky Trick:</b> Try printing each thing *with* its number like this:
      <pre>
items = ["apple", "banana", "cherry"]
for i in range(len(items)):
    print(i, items[i])
      </pre>
      <div class="example-box">
        This says:<br>
        0 apple<br>
        1 banana<br>
        2 cherry
      </div>
    </div>

    <div class="challenge-box">
      üåü <b>Challenge:</b> Can you make a list with 5 silly words and print them backwards?
    </div>

    <a href="lvl4pg4.html" class="button special" id="fakeNextBtn" disabled>Next: While Loops! ‚û°Ô∏è</a>
    <a href="lvl4pg2.html" class="button">‚¨ÖÔ∏è Back</a>
    <a href="index.html" class="button">üè† Home</a>
  </div>
  <script>
    // Mobile font detector/family handled in head
    const challengeInput = document.getElementById('challengeInput');
    const challengeFeedback = document.getElementById('challengeFeedback');
    const nextBtn = document.getElementById('nextBtn');
    function isValidListLoop(val) {
      // This is a loose check: must assign a list (with [ and ,), then for ... in ... with print reversed or [::-1], or reversed( var )
      // Accepts: for t in things[::-1]: / for t in reversed(things):
      // List assignment (first line): var = [ ... ]
      const s = val.trim();
      if (!/^\s*\w+\s*=\s*\[([^\[\]]|(\[[^\[\]]*\]))+\]\s*$/m.test(s)) return false;
      // Must have a for loop and print in body
      if (!/for +\w+ +in +(reversed\()?\w+(\[\:\:\-?1?\])?\)? *:/i.test(s)) return false;
      // Must have print in body
      if (!/print\s*\(/i.test(s)) return false;
      // Some actual list items, comma separated in the brackets
      const match = s.match(/\[\s*([^\]]+)\]/);
      if (!match) return false;
      const listItems = match[1].split(',');
      if (listItems.length < 5) return false;
      // Must use backwards loop: [::-1] or reversed(var)
      if (!/reversed\(\w+\)|\[\:\:\-1\]/i.test(s)) return false;
      return true;
    }
    challengeInput.addEventListener('input', function() {
      if (isValidListLoop(challengeInput.value)) {
        challengeFeedback.textContent = "Awesome! That's a backwards list loop with 5 silly items!";
        nextBtn.disabled = false;
        document.getElementById('fakeNextBtn').disabled = false;
      } else {
        challengeFeedback.textContent = "You need: assign a list with at least 5 items, loop backwards (use [::-1] or reversed()), and print each item.";
        nextBtn.disabled = true;
        document.getElementById('fakeNextBtn').disabled = true;
      }
    });
    nextBtn.onclick = function() {
      window.location.href = "lvl4pg4.html";
    };
    // To visually keep the UI consistent and challenge enforced, the real "Next" is the button, the fake one is above for looks only.
    document.getElementById('fakeNextBtn').addEventListener('click', function(e){
      if (nextBtn.disabled) e.preventDefault();
      else window.location.href = "lvl4pg4.html";
    });
  </script>
</body>
</html>

